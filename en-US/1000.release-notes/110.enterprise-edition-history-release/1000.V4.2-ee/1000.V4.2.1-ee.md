# ODP Enterprise Edition V4.2.1

## V4.2.1 BP2 hotfix1

### Version information

* Release date: October 17, 2023

* Version: V4.2.1 BP2 hotfix1

* RPM version: obproxy-4.2.1.0-20231017181929

### Bug fixes

* Fixed the issue where ODP exits due to a PS memory leak.

* Fixed the issue where the connection to the binlog service fails occasionally after the high availability feature is enabled for ODP.

* Modified the disaster recovery check criteria for the binlog service.

* Fixed the issue where an exception occurs during the update of the configuration table when global settings are configured by specifying the `cluster_name` parameter.

* Fixed the issue where the value of the `is_partition_hit` parameter in the diagnostic log is `true` (which is expected to be `false`) due to inaccurate SQL routing.

## V4.2.1 BP2

### Version information

* Release date: September 5, 2023

* Version: V4.2.1 BP2

* RPM version: obproxy-4.2.1.0-20230905194130

### Overview

Binlog service address change is supported.

### Bug fixes

* Fixed the issue that after `enable_ldg` is enabled in an advanced RISC machine (ARM) environment, an ODP core dump occurs while simulating a network failure on a node by using iptables.

* Fixed the issue where disconnection occurs during running.

* Fixed the issue where disconnection occurs due to expired cluster information in a binlog request scenario.

* Fixed the issue where ODP falls into an infinite loop after logon fails in some scenarios.

* Fixed the issue of memory bloat in routing diagnostics.

## V4.2.1 BP1

### Version information

* Release date: August 11, 2023

* Version: V4.2.1 BP1

* RPM version: obproxy-4.2.1.0-20230811111811

### Bug fixes

* Fixed the issue of identification errors in the show columns from `db_name`.`table_name` statement.

* Fixed the issue where parameters cannot be persisted in the routing diagnostics feature.

* Fixed the issue of memory leak in the routing diagnostics feature.

* Fixed the issue where the process exits during a hot upgrade.

* Fixed the issue where the process exits because the memory of ODP is used up due to a memory leak in the connection diagnostics feature.

## V4.2.1

### Version information

* Release date: July 12, 2023

* Version: V4.2.1

* RPM version: obproxy-4.2.1.0-20230712162726

### Overview

ODP V4.2.1 is a long-term supported (LTS) version of V4.2.x.

### Overview

* Automatic session synchronization verification is supported.

* Access to a cluster by using its alias is supported.

* The GB18030 2022 character set is supported.

* The Show Trace feature is supported. For more information, see [Show Trace](../../../900.o-m-guide/300.show-trace.md).

* Forwarding of binlog-related statements is supported.

* The routing diagnostics feature is supported. For more information, see [Overview](../../../900.o-m-guide/400.routing-diagnosis/100.overview-of-routing-diagnosis.md).

* The connection diagnostics feature is supported.

* The forcible encryption attribute is supported for Secure Sockets Layer (SSL).

* The general connection initialization mechanism is supported.

* A latency threshold is supported for weak-consistency reads. For more information, see [Follower latency threshold](../../../600.data-routing/600.follower-latency-threshold.md).

### Bug fixes

* Fixed the issue of ODP disconnection.

* Fixed the issue where an error is expected but the operation succeeds when a tenant-level parameter is deleted.

* Fixed the issue where you cannot configure multiple values when you update a parameter.

* Fixed the issue where the allowlist contains invalid CIRR blocks.

* Fixed the issue where the operation of inserting data into a table is hung when the utf16 character set is used.

* Fixed the issue where the error "received malformed packet" is returned when the root@proxysys account is used to log on to ODP after ODP is restarted.

* Fixed the issue where disconnection occurs when an IP address specified in the comment is enclosed with double quotation marks (").

* Fixed the issue where the error `Cannot execute statement in a READ ONLY transaction` is returned when a connection string, in which the primary address of the standby cluster is specified in the three-segment format and the primary cluster is specified in the tenant name, is used to connect to the primary cluster but writes are not supported.

* Fixed the issue that the parsing module of ODP may cause memory leaks.

* Fixed the issue where the performance deteriorates after system variables related to the public cloud are modified.

* Fixed the issue where distributed transaction routing must be used for the select CONNECTION_ID() statement.

* Fixed the issue of PL disconnection during calls.

* Fixed the issue where the connection to ODP is disconnected if the OK packet contains the `last_insert_id` field.

* Fixed the issue where ODP must support the attribute value 0 when reading connection attributes.
