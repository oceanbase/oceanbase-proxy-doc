# ODP Enterprise Edition V4.1.0

## V4.1.0 BP2

### Version information

* Release date: June 28, 2023

* Version: V4.1.0 BP2

* RPM version: obproxy-4.1.0.0-20230628180544

### Bug fixes

* Fixed the issue of session information synchronization and the issue that the nodes to which the DELETE and UPDATE statements are routed are taken as coordinators during an upgrade.

* Fixed the issue of session information synchronization in the case of error packets.

* Fixed the issue where internal SQL statements are not routed based on the specified IP addresses.

* Fixed the issue where disconnection occurs when an SQL statement is executed after xa_start hold.

* Fixed the issue that the parsing module of ODP may cause memory leaks.

* Fixed the issue where ODP is disconnected and does not try to connect to the IP addresses of other OBServer nodes if an invalid IP address 0.0.0.0:0 is specified for the target_db_server+IP address mode when both the mock and target_db_server+IP address routing modes are supported.

* Fixed the issue that in IP address-based routing at the global level, if the first IP address belongs to a log replica, ODP does not retry to connect to an available IP address when a core dump occurs.

* Fixed the issue that if the specified IP address belongs to ODP in IP address-based routing, the client is hung due to cyclical forwarding by ODP.

* Fixed the issue that disconnection occurs when the specified IP address is 127.0.0.1 in IP address-based routing.

* Fixed the issue where connection establishment fails if only last_insert_id is modified.

* Fixed the issue where performance jitter occurs in business SQL statements when CPU resources are exhausted due to configuration changes.

## V4.1.0 BP1

### Version information

* Release date: April 13, 2023

* Version: V4.1.0 BP1

* RPM version: obproxy-4.1.0.0-20230413171222

### Bug fixes

* Fixed the issue where the cluster is disconnected when the `PREPARE stmt1 FROM @A` statement is executed.

* Fixed the issue that the behavior in random routing is not as expected.

* Fixed the issue of request routing where only the partitioning key is specified for a subpartitioned table in the SQL request.

## V4.1.0

### Version information

* Release date: March 23, 2023

* Version: V4.1.0

* RPM version: obproxy-4.1.0.0-20230323104822

### Overview

* A server IP address can be specified in IP address-based routing.

* The Latin1 character set is supported.

* Connection attributes with special prefixes can be transparently transmitted.

* Distributed transaction routing is supported.

### Feature updates

* The recovery time objective (RTO) is reduced to a value less than 8s.

* The OceanBase 2.0 protocol is optimized to reduce the statements for synchronization.

* An error packet will be sent to the client if ODP actively disconnects from the client.
