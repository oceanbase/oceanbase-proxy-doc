# 创建与更新 Root Service 列表

本文介绍创建与更新 Root Service 列表。您可以选择主动更新、被动触发式更新或手动更新。

## 什么是 Root Service 列表

Root Service 列表，简称 RS 列表，是 OceanBase 数据库集群中启动 Root Service 服务机器的 IP 列表。一般情况下，每个 zone 都有一台启动 Root Service 服务的机器。RS 列表有两种类型：

* 直接从配置服务器获取的 RS 列表。此时 RS 列表集合为 **RS 列表 \[** **无\]** 。

* 服务器更新后的 RS 列表。此时 RS 列表集合为 **RS** **列表 \[服务器列表\]** 。

## 创建 RS 列表

当 ODP 首次访问集群时，ODP 会通过 HTTP 请求从配置服务器上获取该集群最新的 RS 列表。此时 RS 列表集合为 **RS 列表 \[** **无\]** 。

## 主动更新 RS 列表

每个集群创建完成后，ODP 会为该集群创建一个定时任务。

* 定时任务每隔一定时间（默认时间间隔为 20s，可修改）会访问 `all_virtual_proxy_server_stat` 表获取服务器列表，如果服务器列表有变化，则会用服务器列表更新 RS 列表，此时 RS 列表集合为 **RS 列表** **\[** **服务器列表** **\]** 。

* 如果定时任务刷新失败超过 10 次，ODP 会从配置服务器上获取最新的 RS 列表，此时 RS 列表集合为 **RS 列表** **\[无\]** 。

## 被动触发更新 RS 列表

如果您长时间（默认为 24 小时）没有访问过集群，在您再次创建集群时，如果集群创建失败次数超过 3 次，在下次创建集群时 ODP 会重新去配置服务器上获取新的 RS 列表，此时 RS 列表集合为 **RS 列表 \[无\]** 。

## 手动更新

将 `refresh_rslist` 参数值修改为 `true`，ODP 将强制刷新所有 RS 列表，刷新后的 RS 列表集合为 **RS 列表** **\[无\]** 。
