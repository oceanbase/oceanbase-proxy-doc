# ROUTINE_ENTRY_LOOKUP_DONE

本文介绍 ROUTINE_ENTRY_LOOKUP_DONE 诊断点的相关信息。

ODP 仅根据存储过程的函数名称无法进行路由，需获取存储过程中的第一条语句，将第一条语句作为路由计算的依据。ROUTINE_ENTRY_LOOKUP_DONE 诊断点会记录存储过程内容信息，涉及的诊断信息具体介绍如下。

|  名称     |  描述    | 备注     |
|-----------|----------|----------|
| routine_sql | 表示存储过程中的首条 SQL 语句    | 如果该语句与预期不一致，会导致后面无法解析出正确的分区信息，大概率会出现路由不准的情况。  |
| entry_from_remote |  表示信息是否从 OBServer 节点实时获取      | 为 true 时表示查到的信息直接来自 OBServer 节点。如果查到的信息不来自 OBServer 节点，会出现 OBServer 远端已经修改了信息，但是还没有被 ODP 取回的情况，可能导致远程路由。  |
| is_lookup_succ |  表示查询是否成功      | 取值为 false 表示查询失败，无法获存储过程第一条语句，失败则会执行路由策略路由。    |
| entry_state |  表示数据状态      | 有如下几种状态。您需排查其值是否为 DIRTY，其值为 DIRTY 时可能会导致路由不准。<ul><li>BORN：相关缓存信息刚刚创建，暂无数据。</li><li>BUILDING：相关缓存信息正在构建。</li><li>AVAIL：相关缓存信息可用。</li><li>DIRTY：相关缓存信息已过期，会导致脏数据。</li><li>UPDATING：相关缓存信息正在更新。</li><li>DELETED：相关缓存信息已经被删除或移除，状态为 DELETED 时该缓存信息不可用。</li></ul>  |
