# 基本操作

## 查看版本

OBProxy 安装后，有以下三种方法可以确定 OBProxy 的版本：

1. 新版本 OBProxy 的目录会带版本号，如 `obproxy-3.2.3` 目录名表示 3.2.3 版本的 OBProxy

2. 在 OBProxy 的目录下执行 `./bin/obproxy -V` 可查看该 OBProxy 的版本，以 V3.2.3 为例：

   ```bash
   [admin@test obproxy]# ./bin/obproxy -V
   ./bin/obproxy -V
   obproxy (OceanBase 3.2.3 2)
   REVISION: 6-local-99faebfc7130b70ad0f56330a28cab6a32ec9a33
   BUILD_TIME: Mar 30 2022 01:53:08
   ```

3. 使用 root@proxysys 账号登录后，执行 `show proxyinfo binary` 可查看该 OBProxy 的版本，以 V3.2.6 为例：

   ```sql
   MySQL [(none)]> show proxyinfo binary\G
   *************************** 1. row ***************************
   name: binary info
   info: ObProxy-OceanBase 3.2.6-5902.el7
   version:RELEASE_7U
   MD5:
   REVISION:5902-local-f6b6e366ce8ed7611a05c2fc4701c791f26e0356
   BUILD_TIME:May 23 2022 09:19:44
   ```

## 连接 OceanBase

您可通过如下命令使用 OBClient 或 MySQL 客户端连接 OceanBase 集群：

```bash
obclient -h<obproxy_ip> -u<user> -P<obproxy_post> -p<obproxy_pwd>
或
mysql -h<obproxy_ip> -u<user> -P<obproxy_post> -p<obproxy_pwd>

# 示例
obclient -h192.168.1.5 -uroot@sys#obcluster -P2883 -p******
```

说明：

* `-h`：提供 OceanBase 数据库连接 IP，这里需是一个 OBProxy 的 IP 地址。

* `-u`：提供租户的连接账户，格式有两种：`用户名@租户名#集群名` 或者 `集群名:租户名:用户名`。MySQL 租户的管理员用户名默认是 root。

* `-P`：提供 OceanBase 数据库连接端口，也就是 OBProxy 的监听端口，默认是 2883，可以自定义。

* `-p`：提供账户密码，为了安全可以不提供，改为在后面提示符下输入，密码文本不可见。
