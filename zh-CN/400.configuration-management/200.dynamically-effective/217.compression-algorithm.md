# compression_algorithm

`compression_algorithm` 用于控制压缩协议和 OceanBase 2.0 协议的压缩级别。

|  属性    | 描述     |
|----------|---------|
| 参数类型 |   字符串类型      |
| 默认值   | zlib:6     |
| 取值范围 | 该配置项的配置格式为：<algorithm_name>:<compression_level>。目前 algorithm_name 仅支持 zlib；compression_level 仅支持 [0-9]，取值为 0 时表示禁用压缩协议和 OceanBase 2.0 协议中的压缩功能。  |

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该配置项需要重新建立连接才会生效。</p>
</main>

## 示例

1. 使用 root@sys 用户通过 ODP 代理登录 OceanBase 数据库，或使用 root@proxysys 用户登录 ODP

   使用 root@sys 用户登录 OceanBase 数据库示例如下，详细参数介绍可参见《OceanBase 数据库》文档 [通过 OBClient 连接 OceanBase 租户](https://www.oceanbase.com/docs/common-oceanbase-database-cn-1000000000218474)。

   ```shell
   [admin@obtest ~]$ obclient -uroot@sys#obcluster -h10.10.10.1 -P2883 -p
   ```

   <main id="notice" type='notice'>
     <h4>注意</h4>
     <p>若要在 OceanBase 数据库中使用 ODP 命令，连接 OceanBase 数据库的连接 IP（<code>-h</code>）和连接端口（<code>-P</code>）需为 ODP 的地址和监听端口（<code>listen_port</code>）</p>
   </main>

   使用 root@proxysys 用户登录 ODP 示例如下，此处的连接 IP（`-h`）为 ODP 的地址，连接端口（`-P`）为 ODP 的监听端口（`listen_port`）。

   ```shell
   [admin@obtest ~]$ obclient -uroot@proxysys -h10.10.10.1 -P2883 -p
   ```

2. 执行如下命令设置压缩级别为 5

   ```shell
   [admin@obtest ~]$ alter proxyconfig set compression_algorithm='zlib:5';
   ```
