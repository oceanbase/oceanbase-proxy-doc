# enable_compression_protocol

`enable_compression_protocol` 用于控制是否开启压缩协议。

|  属性    | 描述     |
|----------|---------|
| 参数类型 |   布尔类型      |
| 默认值   | True     |
| 取值范围 | <ul><li>True：开启压缩协议</li><li>False：不开启压缩协议</li></ul>  |

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该配置项需要重新建立连接才会生效。</p>
</main>

## 示例

1. 使用 root@sys 用户通过 ODP 代理登录 OceanBase 数据库，或使用 root@proxysys 用户登录 ODP

   使用 root@sys 用户登录 OceanBase 数据库示例如下，详细参数介绍可参见《OceanBase 数据库》文档 [通过 OBClient 连接 OceanBase 租户](https://www.oceanbase.com/docs/common-oceanbase-database-cn-1000000000218474)。

   ```shell
   [admin@obtest ~]$ obclient -uroot@sys#obcluster -h10.10.10.1 -P2883 -p
   ```

   <main id="notice" type='notice'>
     <h4>注意</h4>
     <p>若要在 OceanBase 数据库中使用 ODP 命令，连接 OceanBase 数据库的连接 IP（<code>-h</code>）和连接端口（<code>-P</code>）需为 ODP 的地址和监听端口（<code>listen_port</code>）</p>
   </main>

   使用 root@proxysys 用户登录 ODP 示例如下，此处的连接 IP（`-h`）为 ODP 的地址，连接端口（`-P`）为 ODP 的监听端口（`listen_port`）。

   ```shell
   [admin@obtest ~]$ obclient -uroot@proxysys -h10.10.10.1 -P2883 -p
   ```

2. 执行如下命令开启压缩协议

   ```shell
   [admin@obtest ~]$ alter proxyconfig set enable_compression_protocol=True;
   ```

   因为 `enable_ob_protocol_v2` 的优先级高于 `enable_compression_protocol`，所以在开启 OceanBase 2.0 协议的情况下，开启压缩协议也仍旧会使用 OceanBase 2.0 协议。

   <main id="notice" type='explain'>
     <h4>说明</h4>
     <p>您可参照如下命令关闭 OceanBase 2.0 协议，但需注意，在 ODP 4.x 版本中关闭 OceanBase 2.0 协议会导致功能缺失。</p>
   </main>

   ```shell
   [admin@obtest ~]$ alter proxyconfig set enable_ob_protocol_v2=False;
   ```
